(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{13:function(e,t,o){},15:function(e,t,o){"use strict";o.r(t);var n=o(1),c=o.n(n),a=o(4),r=o.n(a),s=(o(13),o(6)),l=o(2);function d(){var e=function(e,t){var o=c.a.useState(!0),n=Object(l.a)(o,2),a=n[0],r=n[1],s=c.a.useState(!0),d=Object(l.a)(s,2),i=d[0],u=d[1],p=c.a.useState(t),j=Object(l.a)(p,2),m=j[0],b=j[1],h=c.a.useState(!1),O=Object(l.a)(h,2),x=O[0],f=O[1];return c.a.useEffect((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),b(o),u(!1),r(!0)}catch(c){f(c)}}),3e3)}),[a]),{item:m,saveItems:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),b(t)}catch(n){f(n)}},loading:i,error:x,sincronizeItem:function(){u(!0),r(!1)}}}("TODOS_V1",[]),t=e.item,o=e.saveItems,n=e.loading,a=e.error,r=e.sincronizeItem,d=c.a.useState(""),i=Object(l.a)(d,2),u=i[0],p=i[1],j=c.a.useState(!1),m=Object(l.a)(j,2),b=m[0],h=m[1],O=c.a.useState(!1),x=Object(l.a)(O,2),f=x[0],T=(x[1],t.filter((function(e){return!!e.completed})).length),g=t.length,v=[];v=!u.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),o=u.toLowerCase();return t.includes(o)}));return console.log(v),{loading:n,error:a,totalTodos:g,completedTodos:T,searchValue:u,setSearchValue:p,searchedTodos:v,completeTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(s.a)(t);c[n].completed=!0,o(c)},deleteTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(s.a)(t);c.splice(n,1),o(c)},openModal:b,openSearch:f,setOpenModal:h,addTodo:function(e){var n=Object(s.a)(t);n.push({completed:!1,text:e}),o(n)},sincronizeTodos:r}}var i=o(0);function u(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(i.jsxs)("h2",{className:"dayCard__counter ".concat(!!n&&"dayCard__counter--loading"),children:["today you have completed ",o," of ",t," ToDo's!!!"]})}function p(e){return Object(i.jsx)("button",{className:"buttonApp buttonApp--create",onClick:function(){e.setOpenModal((function(e){return!e}))},children:"+"})}function j(e){var t=e.children||e.render;return Object(i.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(),Object(i.jsx)("ul",{className:"dayCard__list",children:!e.loading&&!e.error&&e.searchedTodos.map(t)})]})}var m=o(8);function b(e){return Object(i.jsxs)("li",{className:"item ".concat(e.completed&&"item--completed"),children:[Object(i.jsx)("div",{className:"item-text-wrapper ".concat(e.completed&&"item-text-wrapper--completed"),children:Object(i.jsx)("p",{className:"item-text-wrapper__content ".concat(e.completed&&"item-text-wrapper__content--completed"),children:e.text})}),Object(i.jsxs)("div",{className:"item-buttons-wrapper ".concat(e.completed&&"item-buttons-wrapper--completed"),children:[Object(i.jsx)("p",{className:"item-buttons-wrapper__button-content ".concat(e.completed&&"item-buttons-wrapper__button-content--completed"),children:"Delete"}),Object(i.jsx)(m.b,{className:"item-buttons-wrapper__button item-buttons-wrapper__button--delete ".concat(e.completed&&"item-buttons-wrapper__button--deleted"),size:"30px",color:"gray",onClick:e.onDelete}),Object(i.jsx)("p",{className:"item-buttons-wrapper__button-content ".concat(e.completed&&"item-buttons-wrapper__button-content--completed"),children:"Complete"}),Object(i.jsx)(m.a,{className:"item-buttons-wrapper__button item-buttons-wrapper__button--complete ".concat(e.completed&&"item-buttons-wrapper__button--completed"),size:"30px",color:"".concat(e.completed?"green":"gray"),onClick:e.onComplete})]})]})}function h(e){var t=e.setSearchValue,o=e.searchValue,n=e.loading;return Object(i.jsx)("input",{className:"search",placeholder:"Cebolla",value:o,onChange:function(e){console.log(e.target.value),t(e.target.value)},disabled:n})}function O(e){var t=e.children,o=e.loading;e.date;return Object(i.jsx)("section",{className:"dayCard",children:c.a.Children.toArray(t).map((function(e){return c.a.cloneElement(e,{loading:o})}))})}function x(e){return Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)("p",{children:"TodoList"}),e.children]})}function f(e){e.error;return Object(i.jsx)("p",{children:"Ha ocurrido un error..."})}function T(e){var t=e.children;return r.a.createPortal(Object(i.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}function g(e){var t=e.addTodo,o=e.setOpenModal,n=c.a.useState(""),a=Object(l.a)(n,2),r=a[0],s=a[1];return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o(!1)},children:[Object(i.jsx)("label",{children:"Write a new ToDo"}),Object(i.jsx)("textarea",{value:r,onChange:function(e){s(e.target.value)},placeholder:"Corta la cebolla para el almuerzo"}),Object(i.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(i.jsx)("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:function(){o(!1)},children:"Cancelar"}),Object(i.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button--add",children:"A\xf1adir"})]})]})}function v(){return Object(i.jsxs)("div",{className:"LoadingTodo-container",children:[Object(i.jsx)("div",{className:"LoadingTodo-text-wrapper",children:Object(i.jsx)("p",{className:"LoadingTodo-text-wrapper__content",children:"Loading ToDo's..."})}),Object(i.jsx)("div",{className:"LoadingTodo-buttons-wrapper"})]})}function _(){return Object(i.jsx)("p",{className:"create-first",children:"Create your first ToDo"})}function N(e){return Object(i.jsxs)("p",{className:"empty-search",children:["No hay resultados para ",e.searchText]})}function w(e){var t=function(e){var t=c.a.useState(!1),o=Object(l.a)(t,2),n=o[0],a=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en TODOS_V1"),a(!0))})),{show:n,toggleShow:function(){e(),a(!1)}}}(e.sincronize),o=t.show,n=t.toggleShow;return o?Object(i.jsx)("div",{className:"ChangeAlert-bg",children:Object(i.jsxs)("div",{className:"ChangeAlert-container",children:[Object(i.jsx)("p",{children:"Parece que cambiaste tus TODO's en otra pesta\xf1a o ventana del navegador"}),Object(i.jsx)("p",{children:"\xbfQuieres sincronizar tus TODO's?"}),Object(i.jsx)("button",{className:"TodoForm-button TodoForm-button--add",onClick:n,children:"Yess"})]})}):null}var S=function(e){return Object(i.jsxs)("section",{className:"CreateNewTodo",children:[!e.loading&&!e.totalTodos&&e.onEmptyTodos(),e.children]})};var y=function(){var e=d(),t=e.error,o=e.loading,n=e.searchedTodos,a=e.completeTodo,r=e.deleteTodo,s=e.openModal,l=e.setOpenModal,m=e.totalTodos,y=e.completedTodos,C=e.searchValue,D=e.setSearchValue,E=e.addTodo,L=e.sincronizeTodos,I=e.openSearch;return console.log(n),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(x,{}),!!I&&Object(i.jsx)(h,{searchValue:C,setSearchValue:D,loading:o}),Object(i.jsxs)(O,{date:"Tuesday 28-sep-2021",loading:o,children:[Object(i.jsx)(u,{totalTodos:m,completedTodos:y}),Object(i.jsx)(j,{searchText:C,totalTodos:m,error:t,searchedTodos:n,onError:function(){return Object(i.jsx)(f,{})},onLoading:function(){return Object(i.jsx)(v,{})},onEmptyTodos:function(){return Object(i.jsx)(_,{})},onEmptySearchResults:function(){return Object(i.jsx)(N,{searchText:C})},children:function(e){return Object(i.jsx)(b,{text:e.text,completed:e.completed,onComplete:function(){return a(e.text)},onDelete:function(){return r(e.text)}},e.text)}}),Object(i.jsx)(S,{onEmptyTodos:function(){return Object(i.jsx)(_,{})},children:Object(i.jsx)(p,{})})]}),!!s&&Object(i.jsx)(T,{children:Object(i.jsx)(g,{addTodo:E,setOpenModal:l})}),Object(i.jsx)(w,{sincronize:L})]})};r.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ac117931.chunk.js.map