(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{13:function(e,t,o){},15:function(e,t,o){"use strict";o.r(t);var n=o(1),c=o.n(n),r=o(4),a=o.n(r),s=(o(13),o(6)),l=o(2);function d(){var e=function(e,t){var o=c.a.useState(!0),n=Object(l.a)(o,2),r=n[0],a=n[1],s=c.a.useState(!0),d=Object(l.a)(s,2),i=d[0],u=d[1],j=c.a.useState(t),p=Object(l.a)(j,2),b=p[0],m=p[1],h=c.a.useState(!1),O=Object(l.a)(h,2),x=O[0],f=O[1];return c.a.useEffect((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),m(o),u(!1),a(!0)}catch(c){f(c)}}),3e3)}),[r]),{item:b,saveItems:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),m(t)}catch(n){f(n)}},loading:i,error:x,sincronizeItem:function(){u(!0),a(!1)}}}("TODOS_V1",[]),t=e.item,o=e.saveItems,n=e.loading,r=e.error,a=e.sincronizeItem,d=c.a.useState(""),i=Object(l.a)(d,2),u=i[0],j=i[1],p=c.a.useState(!1),b=Object(l.a)(p,2),m=b[0],h=b[1],O=t.filter((function(e){return!!e.completed})).length,x=t.length,f=[];f=!u.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),o=u.toLowerCase();return t.includes(o)}));return console.log(f),{loading:n,error:r,totalTodos:x,completedTodos:O,searchValue:u,setSearchValue:j,searchedTodos:f,completeTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(s.a)(t);c[n].completed=!0,o(c)},deleteTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(s.a)(t);c.splice(n,1),o(c)},openModal:m,setOpenModal:h,addTodo:function(e){var n=Object(s.a)(t);n.push({completed:!1,text:e}),o(n)},sincronizeTodos:a}}var i=o(0);function u(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(i.jsxs)("h2",{className:"dayCard__counter ".concat(!!n&&"dayCard__counter--loading"),children:["today you has completed ",o," of ",t," ToDo's!!!"]})}function j(e){return Object(i.jsx)("button",{className:"buttonApp buttonApp--create",onClick:function(){e.setOpenModal((function(e){return!e}))},children:"+"})}function p(e){var t=e.children||e.render;return Object(i.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(),Object(i.jsx)("ul",{className:"dayCard__list",children:!e.loading&&!e.error&&e.searchedTodos.map(t)})]})}var b=o(8);function m(e){return Object(i.jsxs)("li",{className:"item ".concat(e.completed&&"item--completed"),children:[Object(i.jsx)("div",{className:"item-text-wrapper ".concat(e.completed&&"item-text-wrapper--completed"),children:Object(i.jsx)("p",{className:"item-text-wrapper__content ".concat(e.completed&&"item-text-wrapper__content--completed"),children:e.text})}),Object(i.jsxs)("div",{className:"item-buttons-wrapper ".concat(e.completed&&"item-buttons-wrapper--completed"),children:[Object(i.jsx)("p",{className:"item-buttons-wrapper__button-content ".concat(e.completed&&"item-buttons-wrapper__button-content--completed"),children:"Delete"}),Object(i.jsx)(b.b,{className:"item-buttons-wrapper__button item-buttons-wrapper__button--delete ".concat(e.completed&&"item-buttons-wrapper__button--deleted"),size:"30px",color:"gray",onClick:e.onDelete}),Object(i.jsx)("p",{className:"item-buttons-wrapper__button-content ".concat(e.completed&&"item-buttons-wrapper__button-content--completed"),children:"Complete"}),Object(i.jsx)(b.a,{className:"item-buttons-wrapper__button item-buttons-wrapper__button--complete ".concat(e.completed&&"item-buttons-wrapper__button--completed"),size:"30px",color:"".concat(e.completed?"green":"gray"),onClick:e.onComplete})]})]})}function h(e){var t=e.setSearchValue,o=e.searchValue,n=e.loading;return Object(i.jsx)("input",{className:"search",placeholder:"Cebolla",value:o,onChange:function(e){console.log(e.target.value),t(e.target.value)},disabled:n})}function O(e){return Object(i.jsxs)("h1",{className:"header__text-principal",children:[e.greeting,e.user,"!"]})}function x(e){var t=e.children,o=e.loading,n=e.date;return Object(i.jsxs)("section",{className:"dayCard",children:[Object(i.jsx)("h3",{className:"dayCard__dayTitle",children:n}),c.a.Children.toArray(t).map((function(e){return c.a.cloneElement(e,{loading:o})}))]})}function f(){return Object(i.jsx)("button",{className:"header__button-login",children:"Login"})}function g(e){return Object(i.jsx)("header",{className:"header",children:e.children})}function T(){return Object(i.jsx)("button",{className:"buttonApp buttonApp--comment",children:"-"})}function v(e){e.error;return Object(i.jsx)("p",{children:"Ha ocurrido un error..."})}function _(e){var t=e.children;return a.a.createPortal(Object(i.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}function N(e){var t=e.addTodo,o=e.setOpenModal,n=c.a.useState(""),r=Object(l.a)(n,2),a=r[0],s=r[1];return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),o(!1)},children:[Object(i.jsx)("label",{children:"Write a new ToDo"}),Object(i.jsx)("textarea",{value:a,onChange:function(e){s(e.target.value)},placeholder:"Corta la cebolla para el almuerzo"}),Object(i.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(i.jsx)("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:function(){o(!1)},children:"Cancelar"}),Object(i.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button--add",children:"A\xf1adir"})]})]})}function w(){return Object(i.jsxs)("div",{className:"LoadingTodo-container",children:[Object(i.jsx)("div",{className:"LoadingTodo-text-wrapper",children:Object(i.jsx)("p",{className:"LoadingTodo-text-wrapper__content",children:"Loading ToDo's..."})}),Object(i.jsx)("div",{className:"LoadingTodo-buttons-wrapper"})]})}function y(){return Object(i.jsx)("p",{className:"create-first",children:"Create your first ToDo"})}function S(e){return Object(i.jsxs)("p",{className:"empty-search",children:["No hay resultados para ",e.searchText]})}function C(e){var t=function(e){var t=c.a.useState(!1),o=Object(l.a)(t,2),n=o[0],r=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en TODOS_V1"),r(!0))})),{show:n,toggleShow:function(){e(),r(!1)}}}(e.sincronize),o=t.show,n=t.toggleShow;return o?Object(i.jsx)("div",{className:"ChangeAlert-bg",children:Object(i.jsxs)("div",{className:"ChangeAlert-container",children:[Object(i.jsx)("p",{children:"Parece que cambiaste tus TODO's en otra pesta\xf1a o ventana del navegador"}),Object(i.jsx)("p",{children:"\xbfQuieres sincronizar tus TODO's?"}),Object(i.jsx)("button",{className:"TodoForm-button TodoForm-button--add",onClick:n,children:"Yess"})]})}):null}var D=function(){var e=d(),t=e.error,o=e.loading,n=e.searchedTodos,r=e.completeTodo,a=e.deleteTodo,s=e.openModal,l=e.setOpenModal,b=e.totalTodos,D=e.completedTodos,L=e.searchValue,E=e.setSearchValue,I=e.addTodo,V=e.sincronizeTodos;return console.log(n),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsxs)(g,{children:[Object(i.jsx)(O,{user:"Fredy",greeting:"Good Afternoon "}),Object(i.jsx)(f,{})]}),Object(i.jsx)(h,{searchValue:L,setSearchValue:E,loading:o}),Object(i.jsxs)(x,{date:"Tuesday 28-sep-2021",loading:o,children:[Object(i.jsx)(u,{totalTodos:b,completedTodos:D}),Object(i.jsx)(p,{searchText:L,totalTodos:b,error:t,searchedTodos:n,onError:function(){return Object(i.jsx)(v,{})},onLoading:function(){return Object(i.jsx)(w,{})},onEmptyTodos:function(){return Object(i.jsx)(y,{})},onEmptySearchResults:function(){return Object(i.jsx)(S,{searchText:L})},children:function(e){return Object(i.jsx)(m,{text:e.text,completed:e.completed,onComplete:function(){return r(e.text)},onDelete:function(){return a(e.text)}},e.text)}})]}),Object(i.jsx)(T,{}),!!s&&Object(i.jsx)(_,{children:Object(i.jsx)(N,{addTodo:I,setOpenModal:l})}),Object(i.jsx)(j,{setOpenModal:l}),Object(i.jsx)(C,{sincronize:V})]})};a.a.render(Object(i.jsx)(D,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3ada2cc7.chunk.js.map